import{s as nt,v as rt,r as st,g as E,c as O,l as H,h as C,z as X,d as M,i as R,m as N,k as x,J as it,w as et}from"../chunks/scheduler.772752a1.js";import{S as ct,i as lt,d as at,v as ut,e as l,g as k,a as w,n as h,s as Y}from"../chunks/index.311cb7de.js";import{p as G}from"../chunks/stores.ca0848af.js";import{p as dt}from"../chunks/parse.bee59afc.js";import{j as mt}from"../chunks/singletons.264690ca.js";import{i as ft}from"../chunks/navigation.5b99e015.js";function pt(t){return mt.apply_action(t)}function bt(t){const e=JSON.parse(t);return e.data&&(e.data=dt(e.data)),e}function U(t,e,u){console.warn(`\`${t}\` has been deprecated in favor of \`${e}\`. \`${t}\` will be removed in a future version. (Called from ${u})`)}function q(t){return HTMLElement.prototype.cloneNode.call(t)}function ot(t,e=()=>{}){if(q(t).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const u=async({action:n,result:p,reset:s})=>{p.type==="success"&&(s!==!1&&HTMLFormElement.prototype.reset.call(t),await ft()),(location.origin+location.pathname===n.origin+n.pathname||p.type==="redirect"||p.type==="error")&&pt(p)};async function d(n){var b,_,A,T;if(((b=n.submitter)!=null&&b.hasAttribute("formmethod")?n.submitter.formMethod:q(t).method)!=="post")return;n.preventDefault();const s=new URL((_=n.submitter)!=null&&_.hasAttribute("formaction")?n.submitter.formAction:q(t).action),c=new FormData(t);if(q(t).enctype!=="multipart/form-data"){for(const a of c.values())if(a instanceof File){console.warn('Your form contains <input type="file"> fields, but is missing the `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819. This will be upgraded to an error in v2.0.');break}}const r=(A=n.submitter)==null?void 0:A.getAttribute("name");r&&c.append(r,((T=n.submitter)==null?void 0:T.getAttribute("value"))??"");const m=new AbortController;let j=!1;const S=await e({action:s,cancel:()=>j=!0,controller:m,get data(){return U("data","formData","use:enhance submit function"),c},formData:c,get form(){return U("form","formElement","use:enhance submit function"),t},formElement:t,submitter:n.submitter})??u;if(j)return;let f;try{const a=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:c,signal:m.signal});f=bt(await a.text()),f.type==="error"&&(f.status=a.status)}catch(a){if((a==null?void 0:a.name)==="AbortError")return;f={type:"error",error:a}}S({action:s,get data(){return U("data","formData","callback returned from use:enhance submit function"),c},formData:c,get form(){return U("form","formElement","callback returned from use:enhance submit function"),t},formElement:t,update:a=>u({action:s,result:f,reset:a==null?void 0:a.reset}),result:f})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",d),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",d)}}}const P="src/routes/[username]/bio/+page.svelte";function I(t){var $;let e,u="Edit Bio",d,n,p,s=t[0].bio+"",c,r,m,j,L=t[1].status+"",S,f,b,_=((($=t[1].form)==null?void 0:$.problem)??"")+"",A,T,a,g,K="Votre bio",z,v,J,y,Q="Update Bio",V,W;const Z={c:function(){e=E("h1"),e.textContent=u,d=O(),n=E("p"),p=H("Current bio : "),c=H(s),r=O(),m=E("p"),j=H("Status code : "),S=H(L),f=O(),b=E("p"),A=H(_),T=O(),a=E("form"),g=E("label"),g.textContent=K,z=O(),v=E("textarea"),J=O(),y=E("button"),y.textContent=Q,this.h()},l:function(o){e=C(o,"H1",{["data-svelte-h"]:!0}),X(e)!=="svelte-3jr3gm"&&(e.textContent=u),d=M(o),n=C(o,"P",{});var i=R(n);p=N(i,"Current bio : "),c=N(i,s),i.forEach(l),r=M(o),m=C(o,"P",{});var D=R(m);j=N(D,"Status code : "),S=N(D,L),D.forEach(l),f=M(o),b=C(o,"P",{});var tt=R(b);A=N(tt,_),tt.forEach(l),T=M(o),a=C(o,"FORM",{method:!0});var F=R(a);g=C(F,"LABEL",{for:!0,["data-svelte-h"]:!0}),X(g)!=="svelte-1urito6"&&(g.textContent=K),z=M(F),v=C(F,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0}),R(v).forEach(l),J=M(F),y=C(F,"BUTTON",{class:!0,["data-svelte-h"]:!0}),X(y)!=="svelte-rn2kq4"&&(y.textContent=Q),F.forEach(l),this.h()},h:function(){x(e,P,8,0,120),x(n,P,10,0,139),x(m,P,12,0,172),x(b,P,13,0,208),k(g,"for","bio"),x(g,P,16,1,278),k(v,"name","bio"),k(v,"id","bio"),k(v,"cols","30"),k(v,"rows","10"),x(v,P,17,1,314),k(y,"class","btn btn-success"),x(y,P,18,1,377),k(a,"method","post"),x(a,P,15,0,244)},m:function(o,i){w(o,e,i),w(o,d,i),w(o,n,i),h(n,p),h(n,c),w(o,r,i),w(o,m,i),h(m,j),h(m,S),w(o,f,i),w(o,b,i),h(b,A),w(o,T,i),w(o,a,i),h(a,g),h(a,z),h(a,v),h(a,J),h(a,y),V||(W=it(ot.call(null,a)),V=!0)},p:function(o,[i]){var D;i&1&&s!==(s=o[0].bio+"")&&Y(c,s),i&2&&L!==(L=o[1].status+"")&&Y(S,L),i&2&&_!==(_=(((D=o[1].form)==null?void 0:D.problem)??"")+"")&&Y(A,_)},i:et,o:et,d:function(o){o&&(l(e),l(d),l(n),l(r),l(m),l(f),l(b),l(T),l(a)),V=!1,W()}};return at("SvelteRegisterBlock",{block:Z,id:I.name,type:"component",source:"",ctx:t}),Z}function ht(t,e,u){let d;rt(G,"page"),st(t,G,r=>u(1,d=r));let{$$slots:n={},$$scope:p}=e;ut("Page",n,[]);let{data:s}=e;t.$$.on_mount.push(function(){s===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const c=["data"];return Object.keys(e).forEach(r=>{!~c.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Page> was created with unknown prop '${r}'`)}),t.$$set=r=>{"data"in r&&u(0,s=r.data)},t.$capture_state=()=>({page:G,enhance:ot,data:s,$page:d}),t.$inject_state=r=>{"data"in r&&u(0,s=r.data)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,d]}class Ct extends ct{constructor(e){super(e),lt(this,e,ht,I,nt,{data:0}),at("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:I.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Ct as component};

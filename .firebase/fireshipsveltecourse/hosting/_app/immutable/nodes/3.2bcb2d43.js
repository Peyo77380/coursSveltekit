import{x as at,s as W,v as j,r as V,n as K,e as z,w as U,g as v,h as k,i as q,k as y,u as Q,p as X,q as Z,y as bt,z as T,c as L,d as P,A as N}from"../chunks/scheduler.772752a1.js";import{S as x,i as tt,d as h,v as et,a as O,h as ut,t as b,c as lt,b as C,e as _,o as Ct,g as m,p as wt,j as ft,k as dt,n as A,m as pt,l as mt}from"../chunks/index.311cb7de.js";import{p as E}from"../chunks/stores.ca0848af.js";import{c as At}from"../chunks/index.40b40403.js";import{u as I,a as rt,G as it,s as ct,b as St,c as J}from"../chunks/firebase.68c14ee1.js";function _t(i,{delay:t=0,duration:s=400,easing:e=At,x:c=0,y:r=0,opacity:o=0}={}){const n=getComputedStyle(i),a=+n.opacity,u=n.transform==="none"?"":n.transform,l=a*(1-o),[p,w]=at(c),[B,g]=at(r);return{delay:t,duration:s,easing:e,css:($,G)=>`
			transform: ${u} translate(${(1-$)*p}${w}, ${(1-$)*B}${g});
			opacity: ${a-l*G}`}}const Rt="src/lib/components/AnimatedRoute.svelte";function M(i){let t,s,e;const c=i[2].default,r=K(c,i,i[1],null),o={c:function(){t=v("div"),r&&r.c(),this.h()},l:function(a){t=k(a,"DIV",{});var u=q(t);r&&r.l(u),u.forEach(_),this.h()},h:function(){y(t,Rt,6,1,117)},m:function(a,u){O(a,t,u),r&&r.m(t,null),e=!0},p:function(a,u){r&&r.p&&(!e||u&2)&&Q(r,c,a,a[1],e?Z(c,a[1],u,null):X(a[1]),null)},i:function(a){e||(C(r,a),a&&(s||bt(()=>{s=Ct(t,_t,{x:"-100%",duration:500}),s.start()})),e=!0)},o:function(a){b(r,a),e=!1},d:function(a){a&&_(t),r&&r.d(a)}};return h("SvelteRegisterBlock",{block:o,id:M.name,type:"key",source:"(6:0) {#key $page.url}",ctx:i}),o}function Y(i){let t=i[0].url,s,e,c=M(i);const r={c:function(){c.c(),s=z()},l:function(n){c.l(n),s=z()},m:function(n,a){c.m(n,a),O(n,s,a),e=!0},p:function(n,[a]){a&1&&W(t,t=n[0].url)?(ut(),b(c,1,1,U),lt(),c=M(n),c.c(),C(c,1),c.m(s.parentNode,s)):c.p(n,a)},i:function(n){e||(C(c),e=!0)},o:function(n){b(c),e=!1},d:function(n){n&&_(s),c.d(n)}};return h("SvelteRegisterBlock",{block:r,id:Y.name,type:"component",source:"",ctx:i}),r}function Ot(i,t,s){let e;j(E,"page"),V(i,E,n=>s(0,e=n));let{$$slots:c={},$$scope:r}=t;et("AnimatedRoute",c,["default"]);const o=[];return Object.keys(t).forEach(n=>{!~o.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<AnimatedRoute> was created with unknown prop '${n}'`)}),i.$$set=n=>{"$$scope"in n&&s(1,r=n.$$scope)},i.$capture_state=()=>({page:E,fly:_t,$page:e}),[e,r,c]}class ht extends x{constructor(t){super(t),tt(this,t,Ot,Y,W,{}),h("SvelteRegisterComponent",{component:this,tagName:"AnimatedRoute",options:t,id:Y.name})}}const Bt="src/lib/components/AuthChecked.svelte";function gt(i){let t,s="Sign in with Google",e,c;const r={c:function(){t=v("button"),t.textContent=s,this.h()},l:function(n){t=k(n,"BUTTON",{class:!0,["data-svelte-h"]:!0}),T(t)!=="svelte-kpeahb"&&(t.textContent=s),this.h()},h:function(){m(t,"class","btn"),y(t,Bt,23,1,549)},m:function(n,a){O(n,t,a),e||(c=wt(t,"click",i[1],!1,!1,!1,!1),e=!0)},p:U,i:U,o:U,d:function(n){n&&_(t),e=!1,c()}};return h("SvelteRegisterBlock",{block:r,id:gt.name,type:"else",source:"(19:0) {:else}",ctx:i}),r}function $t(i){let t;const s=i[3].default,e=K(s,i,i[2],null),c={c:function(){e&&e.c()},l:function(o){e&&e.l(o)},m:function(o,n){e&&e.m(o,n),t=!0},p:function(o,n){e&&e.p&&(!t||n&4)&&Q(e,s,o,o[2],t?Z(s,o[2],n,null):X(o[2]),null)},i:function(o){t||(C(e,o),t=!0)},o:function(o){b(e,o),t=!1},d:function(o){e&&e.d(o)}};return h("SvelteRegisterBlock",{block:c,id:$t.name,type:"if",source:"(17:0) {#if $user}",ctx:i}),c}function F(i){let t,s,e,c;const r=[$t,gt],o=[];function n(u,l){return u[0]?0:1}t=n(i),s=o[t]=r[t](i);const a={c:function(){s.c(),e=z()},l:function(l){s.l(l),e=z()},m:function(l,p){o[t].m(l,p),O(l,e,p),c=!0},p:function(l,[p]){let w=t;t=n(l),t===w?o[t].p(l,p):(ut(),b(o[w],1,1,()=>{o[w]=null}),lt(),s=o[t],s?s.p(l,p):(s=o[t]=r[t](l),s.c()),C(s,1),s.m(e.parentNode,e))},i:function(l){c||(C(s),c=!0)},o:function(l){b(s),c=!1},d:function(l){l&&_(e),o[t].d(l)}};return h("SvelteRegisterBlock",{block:a,id:F.name,type:"component",source:"",ctx:i}),a}function Nt(i,t,s){let e;j(I,"user"),V(i,I,a=>s(0,e=a));let{$$slots:c={},$$scope:r}=t;et("AuthChecked",c,["default"]);async function o(){const a=new it,l=await(await ct(rt,a)).user.getIdToken();await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:l})})}const n=[];return Object.keys(t).forEach(a=>{!~n.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<AuthChecked> was created with unknown prop '${a}'`)}),i.$$set=a=>{"$$scope"in a&&s(2,r=a.$$scope)},i.$capture_state=()=>({auth:rt,user:I,GoogleAuthProvider:it,signInWithPopup:ct,signOut:St,signInWithGoogle:o,$user:e}),[e,o,r,c]}class vt extends x{constructor(t){super(t),tt(this,t,Nt,F,W,{}),h("SvelteRegisterComponent",{component:this,tagName:"AuthChecked",options:t,id:F.name})}}const R="src/routes/login/+layout.svelte";function kt(i){let t;const s=i[1].default,e=K(s,i,i[2],null),c={c:function(){e&&e.c()},l:function(o){e&&e.l(o)},m:function(o,n){e&&e.m(o,n),t=!0},p:function(o,n){e&&e.p&&(!t||n&4)&&Q(e,s,o,o[2],t?Z(s,o[2],n,null):X(o[2]),null)},i:function(o){t||(C(e,o),t=!0)},o:function(o){b(e,o),t=!1},d:function(o){e&&e.d(o)}};return h("SvelteRegisterBlock",{block:c,id:kt.name,type:"slot",source:"(27:3) <AuthChecked>",ctx:i}),c}function yt(i){let t,s,e,c;e=new vt({props:{$$slots:{default:[kt]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){t=v("main"),s=v("div"),ft(e.$$.fragment),this.h()},l:function(n){t=k(n,"MAIN",{class:!0});var a=q(t);s=k(a,"DIV",{class:!0});var u=q(s);dt(e.$$.fragment,u),u.forEach(_),a.forEach(_),this.h()},h:function(){m(s,"class","card-body items-center text-center"),y(s,R,27,2,808),m(t,"class","card w-4/6 bg-neutral text-neutral-content mx-auto"),y(t,R,26,1,740)},m:function(n,a){O(n,t,a),A(t,s),pt(e,s,null),c=!0},p:function(n,a){const u={};a&4&&(u.$$scope={dirty:a,ctx:n}),e.$set(u)},i:function(n){c||(C(e.$$.fragment,n),c=!0)},o:function(n){b(e.$$.fragment,n),c=!1},d:function(n){n&&_(t),mt(e)}};return h("SvelteRegisterBlock",{block:r,id:yt.name,type:"slot",source:"(24:0) <AnimatedRoute>",ctx:i}),r}function H(i){let t,s,e="Sign In",c,r,o="Username",n,a,u="Picture",l,p,w="You're done",B,g,$;g=new ht({props:{$$slots:{default:[yt]},$$scope:{ctx:i}},$$inline:!0});const G={c:function(){t=v("nav"),s=v("a"),s.textContent=e,c=L(),r=v("a"),r.textContent=o,n=L(),a=v("a"),a.textContent=u,l=L(),p=v("a"),p.textContent=w,B=L(),ft(g.$$.fragment),this.h()},l:function(f){t=k(f,"NAV",{class:!0});var d=q(t);s=k(d,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),T(s)!=="svelte-pkhg43"&&(s.textContent=e),c=P(d),r=k(d,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),T(r)!=="svelte-ir6sh8"&&(r.textContent=o),n=P(d),a=k(d,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),T(a)!=="svelte-10knaiu"&&(a.textContent=u),l=P(d),p=k(d,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),T(p)!=="svelte-n4bz0x"&&(p.textContent=w),d.forEach(_),B=P(f),dt(g.$$.fragment,f),this.h()},h:function(){var f,d,D;m(s,"href","/login/"),m(s,"class","step step-primary"),y(s,R,11,1,310),m(r,"href","/login/username"),m(r,"class","step"),N(r,"step-primary",(f=i[0].route.id)==null?void 0:f.match(/username|photo|done/g)),y(r,R,12,1,367),m(a,"href","/login/photo"),m(a,"class","step"),N(a,"step-primary",(d=i[0].route.id)==null?void 0:d.match(/photo|done/g)),y(a,R,17,1,495),m(p,"href","/login/done"),m(p,"class","step"),N(p,"step-primary",(D=i[0].route.id)==null?void 0:D.match(/done/g)),y(p,R,20,1,607),m(t,"class","mx-auto py-8 steps steps-horizontal"),y(t,R,10,0,259)},m:function(f,d){O(f,t,d),A(t,s),A(t,c),A(t,r),A(t,n),A(t,a),A(t,l),A(t,p),O(f,B,d),pt(g,f,d),$=!0},p:function(f,[d]){var nt,ot,st;(!$||d&1)&&N(r,"step-primary",(nt=f[0].route.id)==null?void 0:nt.match(/username|photo|done/g)),(!$||d&1)&&N(a,"step-primary",(ot=f[0].route.id)==null?void 0:ot.match(/photo|done/g)),(!$||d&1)&&N(p,"step-primary",(st=f[0].route.id)==null?void 0:st.match(/done/g));const D={};d&4&&(D.$$scope={dirty:d,ctx:f}),g.$set(D)},i:function(f){$||(C(g.$$.fragment,f),$=!0)},o:function(f){b(g.$$.fragment,f),$=!1},d:function(f){f&&(_(t),_(B)),mt(g,f)}};return h("SvelteRegisterBlock",{block:G,id:H.name,type:"component",source:"",ctx:i}),G}function Et(i,t,s){let e,c,r;j(J,"userData"),V(i,J,u=>s(3,e=u)),j(I,"user"),V(i,I,u=>s(4,c=u)),j(E,"page"),V(i,E,u=>s(0,r=u));let{$$slots:o={},$$scope:n}=t;et("Layout",o,["default"]);const a=[];return Object.keys(t).forEach(u=>{!~a.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Layout> was created with unknown prop '${u}'`)}),i.$$set=u=>{"$$scope"in u&&s(2,n=u.$$scope)},i.$capture_state=()=>({page:E,AnimatedRoute:ht,AuthChecked:vt,user:I,userData:J,$userData:e,$user:c,$page:r}),[r,o,n]}class Gt extends x{constructor(t){super(t),tt(this,t,Et,H,W,{}),h("SvelteRegisterComponent",{component:this,tagName:"Layout",options:t,id:H.name})}}export{Gt as component};
